# Internationalization (i18n)

## Overview
This project uses i18next + react-i18next for runtime language switching, pluralization, interpolation, and namespace-based translation loading.

Supported languages (initial):
- English (`en`)
- Spanish (`es`)
- Chinese (`zh`)
- French (`fr`)
- German (`de`)

## Folder Structure
- `src/i18n/` i18n initialization and helpers
- `src/locales/{lang}/{namespace}.json` translation resources
- `src/locales/_meta/{namespace}.meta.json` translator notes and metadata

## Namespaces
Core namespaces loaded early:
- `common`
- `navigation`
- `footer`

Page and feature namespaces load on demand (examples):
- `home`
- `contact`
- `about`

## How Language Switching Works
- The selected language is persisted to localStorage under `asri.locale`.
- You can override the language with `?lang=xx` (e.g., `?lang=es`).
- The UI updates immediately without a page reload.
- The document root attributes are updated:
  - `html[lang]` is set to the active language
  - `html[dir]` is set based on the language direction (RTL support is built-in)

## Adding a New Language
1. Add the language code to `SUPPORTED_LANGUAGES` in `src/i18n/languages.ts`.
2. Create a new locale folder: `src/locales/{newLang}/`.
3. Copy required namespaces from `en` and translate:
   - `common.json`
   - `navigation.json`
   - `footer.json`
4. Add/translate additional namespaces as they are used by pages.
5. Run validation:
   - `npm run i18n:validate`

## Adding or Updating Strings
1. Update the English (`en`) namespace JSON first.
2. Add translator context in `src/locales/_meta/{namespace}.meta.json` if needed (character limits, context notes, placeholders).
3. Add translations in other language files.
4. Run:
   - `npm run i18n:inventory`
   - `npm run i18n:validate`

## Key Conventions
- Prefer feature-based namespaces over a single large file.
- Prefer stable, descriptive keys over raw text keys.
- Use interpolation for variables: `{{name}}`, `{{count}}`.

## Pluralization and Interpolation
- Plurals: `t('key', { count })`
- Variables: `t('key', { name })`

